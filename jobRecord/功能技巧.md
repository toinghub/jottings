# 功能技巧

## deme

```js
/**
 * 复制内容到剪贴板
 * @param value
 */
export const copyToClipboard = (value: string) => {
	const oInput = document.createElement('input');
	oInput.value = value;
	document.body.appendChild(oInput);
	oInput.select(); // 选择对象
	// 执行浏览器复制命令
	if (document.execCommand('Copy')) {
		oInput.className = 'oInput';
		oInput.style.display = 'none';
		return showToast("复制成功");
	}
	return showToast("复制失败");
}
/**
 * 无刷新，修改路由参数
 * @param value
 */
const changeHref = (data: any) => {
		let path: string = route.path;
		const query: any = { ...route.query, ...data };
		for (let key in query) {
			if (path.includes("?")) {
				path = `${path}&${key}=${query[key]}`;
			} else {
				path = `#${path}?${key}=${query[key]}`;
			}
		}
		window.history.replaceState("", "", path);
	};
```





#### 微信小程序

-   微信小程序单个 key 允许存储的最大数据长度为 1MB，所有数据存储上限为 10MB。
-   直播组件：直播拉流(live-player) + 直播推流(live-pusher)
-   uni.setNavigationBarTitle 更改头部标题
-   webpack 对于小于 8k 的图片，会将图片转成 base64 直接插入图片

#### 阻止用户截图

-   1.阻止右键保存和拖拽
-   2.失焦后加遮罩层
-   3.高速动态马赛克
