# DNS

>  将域名转换成网络可以识别的IP地址 

## 作用

**正向解析** 

*  根据域名查找对应的IP地址，查询hosts文件 
*  FQDN--------IP(一对多)------一般使用正向解析 

**反向解析** 

*  根据IP地址查找对应的域名 

*  IP------------FQDN 

* 反向解析不是很常用，只在一些特殊场合才会用到，比如：邮

  件服务器中来阻拦垃圾邮件

## 域名级别

#### **DNS解析器**

* 可被视为被要求去图书馆的某个地方查找特定图书的图书馆员 
*  负责发出其他请求，以便满足客户端的 DNS 查询 
*  **DNS解析器一般集成在客户端中，由客户端中的解析器程序去处理DNS查询请求** 

#### **根域名服务器**

| 根域名 |      解释      |
| :----: | :------------: |
|   .    | 根（默认隐藏） |

#### **TLD 名称服务器**

| 一级域名 |     解释     |
| :------: | :----------: |
|   .com   |   工商企业   |
|   .net   |  网络供应商  |
|   .edu   |   教育机构   |
|   .cn    | 中国国家域名 |
|   .org   |   团体组织   |
|   .gov   |   政府部门   |

| 二级域名 |
| :------: |
| .net.cn  |
| .edu.cn  |
| .com.cn  |

#### **权威性域名服务器**

| **权威性域名服务器** |
| :------------------: |
|      .baidu.com      |
|      .wangyi.cn      |

#### 主机名

| 主机名 |      解释      |
| :----: | :------------: |
|  mail  |      邮箱      |
|  www   | World Wide Web |

![](..\images\域名解析.png)

![](..\images\DNS.jpg)

## 缓存

* **浏览器默认也有DNS缓存机制，Chrome和Firefox浏览器默认都是1分钟缓存。** 
*  **Windows默认的DNS域名老化时间是5分钟，默认开启DNSlient，可以缓存一些常用的域名** 
*  **Linux(CentOS、FreeBSD)默认无DNS缓存，但可使用nscd或者systemd-resolved开操作系统DNS缓存，但不建议这么，Ubuntu默认运行systemd-resolve daemon 用于名称服务器缓存** 

## 查询方式

#### 递归查询

*  本地域名服务器就以 DNS 客户端的身份，向其他根域名服务器继续发出查询请求报文，即替主机继续查询，而不是让主机自己进行下一步查询。 

#### **迭代查询** 

*  当根域名服务器收到本地域名服务器发出的迭代查询请求报文时，要么给出所要查询的IP 地址，要么告诉本地服务器下一步应该找哪个域名服务器进行查询，然后让本地服务器进行后续的查询。 

